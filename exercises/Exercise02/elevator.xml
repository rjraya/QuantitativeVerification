<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>chan open_door, close_door, go_up, go_down;
chan enter, exit;</declaration><template><name x="5" y="5">Elevator_Control</name><declaration>// Place local declarations here.
clock door_timer;</declaration><location id="id0" x="-48" y="-40"><name x="-120" y="-24">wait_before_move</name></location><location id="id1" x="144" y="-40"><name x="168" y="-48">on_floor</name></location><location id="id2" x="-240" y="-136"><name x="-288" y="-176">changed_floor</name><committed/></location><location id="id3" x="144" y="-136"><name x="160" y="-144">wait_before_opening_door</name><label kind="invariant" x="88" y="-176">door_timer &lt;= 5</label></location><location id="id4" x="-240" y="-40"><name x="-288" y="-48">idle</name></location><init ref="id4"/><transition><source ref="id0"/><target ref="id4"/><label kind="guard" x="-200" y="-56">door_timer &gt;= 2</label></transition><transition><source ref="id1"/><target ref="id0"/><label kind="guard" x="-8" y="-88">door_timer &gt;= 4</label><label kind="synchronisation" x="16" y="-72">close_door!</label><label kind="assignment" x="0" y="-56">door_timer = 0</label></transition><transition><source ref="id1"/><target ref="id1"/><label kind="synchronisation" x="152" y="0">exit?</label><label kind="assignment" x="152" y="16">door_timer = 0</label><nail x="184" y="0"/><nail x="152" y="0"/></transition><transition><source ref="id1"/><target ref="id1"/><label kind="synchronisation" x="96" y="0">enter?</label><label kind="assignment" x="32" y="16">door_timer = 0</label><nail x="104" y="0"/><nail x="136" y="0"/></transition><transition><source ref="id3"/><target ref="id1"/><label kind="guard" x="152" y="-104">door_timer &gt;= 2</label><label kind="synchronisation" x="168" y="-88">open_door!</label><label kind="assignment" x="160" y="-72">door_timer = 0</label></transition><transition><source ref="id2"/><target ref="id3"/><label kind="assignment" x="-96" y="-152">door_timer = 0</label></transition><transition><source ref="id4"/><target ref="id2"/><label kind="synchronisation" x="-216" y="-104">go_down!</label><nail x="-224" y="-88"/></transition><transition><source ref="id4"/><target ref="id2"/><label kind="synchronisation" x="-312" y="-104">go_up!</label><nail x="-256" y="-88"/></transition></template><template><name>Elevator_Position</name><location id="id5" x="0" y="104"><name x="-40" y="120">ground_floor</name></location><location id="id6" x="0" y="0"><name x="-32" y="-40">first_floor</name></location><init ref="id6"/><transition><source ref="id6"/><target ref="id5"/><label kind="synchronisation" x="-104" y="40">go_down?</label><nail x="-24" y="48"/></transition><transition><source ref="id5"/><target ref="id6"/><label kind="synchronisation" x="32" y="40">go_up?</label><nail x="24" y="48"/></transition></template><template><name>Elevator_Door</name><location id="id7" x="112" y="0"><name x="128" y="-8">door_open</name></location><location id="id8" x="0" y="0"><name x="-104" y="-8">door_closed</name></location><init ref="id8"/><transition><source ref="id8"/><target ref="id7"/><label kind="synchronisation" x="16" y="-48">open_door?</label><nail x="56" y="-24"/></transition><transition><source ref="id7"/><target ref="id8"/><label kind="synchronisation" x="16" y="24">close_door?</label><nail x="56" y="24"/></transition></template><template><name>Passenger</name><location id="id9" x="104" y="32"><name x="80" y="56">exiting</name><committed/></location><location id="id10" x="104" y="-32"><name x="72" y="-72">entering</name><committed/></location><location id="id11" x="216" y="0"><name x="240" y="-8">inside</name></location><location id="id12" x="0" y="0"><name x="-72" y="-8">outside</name></location><init ref="id12"/><transition><source ref="id9"/><target ref="id12"/></transition><transition><source ref="id11"/><target ref="id9"/><label kind="synchronisation" x="152" y="24">exit!</label></transition><transition><source ref="id10"/><target ref="id11"/></transition><transition><source ref="id12"/><target ref="id10"/><label kind="synchronisation" x="16" y="-40">enter!</label></transition></template><system>c = Elevator_Control();
p = Elevator_Position();
d = Elevator_Door();

p1 = Passenger();
p2 = Passenger();
p3 = Passenger();
p4 = Passenger();

system c, p, d, p1, p2, p3, p4;</system></nta>